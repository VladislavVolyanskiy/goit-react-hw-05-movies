{"version":3,"file":"static/js/797.d7f9496f.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/modules/MovieList/movie-list.module.css?56cf","components/modules/MovieList/MovieList.jsx","webpack://goit-react-hw-05-movies/./src/components/pages/MoviePage/movie-page.module.css?cfee","webpack://goit-react-hw-05-movies/./src/components/modules/MovieSearchForm/movie-search-form.module.css?204f","components/modules/MovieSearchForm/MovieSearchForm.jsx","components/pages/MoviePage/MoviePage.jsx","components/shared/api/movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movie-list_list__x5AH+\",\"movieLink\":\"movie-list_movieLink__6CRvY\",\"movieImg\":\"movie-list_movieImg__sNZxs\",\"movieTitle\":\"movie-list_movieTitle__9AfWX\"};","import { Link, useLocation } from 'react-router-dom';\nimport defaultMovieImg from '../../../images/default-movie.jpg';\nimport PropTypes from 'prop-types';\n\nimport css from './movie-list.module.css';\n\nconst MovieList = ({ items }) => {\n  const location = useLocation();\n  const elements = items.map(({ id, title, poster_path }) => (\n    <li key={id} className={css.movieLink}>\n      <Link state={{ from: location }} to={`/movies/${id}`}>\n        <img\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/original/${poster_path}`\n              : defaultMovieImg\n          }\n          alt={title}\n          className={css.movieImg}\n        />\n        <p className={css.movieTitle}>{title}</p>\n      </Link>\n    </li>\n  ));\n\n  return <ul className={css.list}>{elements}</ul>;\n};\n\nexport default MovieList;\n\nMovieList.propTypes = {\n  items: PropTypes.array,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"moviePage__title\":\"movie-page_moviePage__title__LzrEe\",\"noResults__text\":\"movie-page_noResults__text__3XfgJ\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"movie-search-form_form__0tWiM\",\"form__input\":\"movie-search-form_form__input__Rq6eK\",\"form__btn\":\"movie-search-form_form__btn__pv5-5\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport css from './movie-search-form.module.css';\n\nconst MovieSearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState('');\n\n  const handleChange = ({ target }) => {\n    const { value } = target;\n    setState(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(state);\n    setState('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={css.form}>\n      <input\n        className={css.form__input}\n        name=\"search\"\n        value={state}\n        onChange={handleChange}\n        placeholder=\"Type movie name\"\n        required\n      />\n      <button type=\"submit\" className={`btn ${css.form__btn}`}>\n        Find\n      </button>\n    </form>\n  );\n};\n\nexport default MovieSearchForm;\n\nMovieSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { MagnifyingGlass } from 'react-loader-spinner';\n\nimport css from './movie-page.module.css';\n\nimport MovieSearchForm from 'components/modules/MovieSearchForm/MovieSearchForm';\nimport MovieList from 'components/modules/MovieList/MovieList';\n\nimport { getSearchMovie } from 'components/shared/api/movies';\n\nconst MoviePage = () => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [noResults, setNoResults] = useState(false);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('query');\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setLoading(true);\n      try {\n        const { results } = await getSearchMovie(search);\n        if (results.length === 0) {\n          setNoResults(true);\n        }\n        setItems([...results]);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (search) {\n      fetchMovie();\n    }\n  }, [search]);\n\n  const reset = () => {\n    setItems([]);\n    setError(null);\n    setNoResults(false);\n  };\n\n  const changeSearch = search => {\n    reset();\n    setSearchParams({ query: search });\n  };\n\n  return (\n    <div className=\"container\">\n      <h2 className={css.moviePage__title}>Search movie</h2>\n      <MovieSearchForm onSubmit={changeSearch} />\n      {items.length > 0 && <MovieList items={items} />}\n      {noResults && (\n        <p className={css.noResults__text}>\n          We don't have any movies for <b>{search}</b>\n        </p>\n      )}\n      {loading && (\n        <div className=\"loading__container\">\n          <MagnifyingGlass\n            height=\"120\"\n            width=\"120\"\n            color=\"#f36721\"\n            glassColor=\"#ffffff\"\n          />\n        </div>\n      )}\n      {error && <p>Oops. Something goes wrong. Please try again.</p>}\n    </div>\n  );\n};\n\nexport default MoviePage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '1d0db205f4afc65ebf6adbf1c9b73dc6',\n  },\n});\n\nexport const getTrendingMovies = async page => {\n  const { data } = await instance.get('/trending/movie/week', {\n    params: {\n      page,\n    },\n  });\n\n  return data;\n};\n\nexport const getSingleMovie = async id => {\n  const { data } = await instance.get(`/movie/${id}`);\n  return data;\n};\n\nexport const getSingleMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getSingleMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n\nexport const getSearchMovie = async query => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n"],"names":["items","location","useLocation","elements","map","id","title","poster_path","className","css","state","from","to","src","defaultMovieImg","alt","onSubmit","useState","setState","e","preventDefault","name","value","onChange","target","placeholder","required","type","setItems","loading","setLoading","error","setError","noResults","setNoResults","useSearchParams","searchParams","setSearchParams","search","get","useEffect","fetchMovie","getSearchMovie","results","length","message","query","MovieList","height","width","color","glassColor","instance","axios","baseURL","params","api_key","getTrendingMovies","page","data","getSingleMovie","getSingleMovieCredits","getSingleMovieReviews"],"sourceRoot":""}